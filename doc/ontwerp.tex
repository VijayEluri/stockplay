%
% Functioneel
%

\chapter{Functioneel ontwerp}

\section{Webapplicatie}

\todo{Sommige opsommingen herwerken tot tekst?}
Deze interface wordt gebruik om deel te nemen aan het spel. Een gebruiker surft hierbij naar de server die de interface host, en krijgt zo de spelomgeving te zien, dit zonder eerst aan bepaalde softwarevereisten (zoals een Java runtime) te moeten voldaan hebben. Een deel van de functionaliteit is beperkt tot geregistreerde gebruikers, maar meer hierover in hoofdstuk X.

\paragraph{De algemene overzichtspagina}
Deze pagina geeft de gebruiker een zicht over:
\begin{itemize}
	\item{de huidige waarde van de aangekochte effecten en de meer- of minwaarde op de aankoopprijs}
	\item{zijn cashpositie}
	\item{het totaal van zijn cashpositie en de huidige waarde van de effecten}
	\item{het huidige rendement}
	\item{een grafiek met een overzicht van hun rendement ten opzichte van het gemiddeld rendement, beste rendement, enz.}
	\item{het algemeen klassement en eventuele tussenklassementen}
\end{itemize}

\paragraph{Portefolio}
Vervolgens kan de gebruiker zijn portefolio bekijken, en daar volgende informatie uit halen:
\begin{itemize}
	\item{een overzicht van het portefolio van de gebruiker}
	\item{de effecten momenteel in bezit, aankoopprijs (per stuk en in totaal), huidige koers, rendement en winst/verlies op het aandeel}
\end{itemize}

\paragraph{Overzicht beschikbare effecten}
Er is ook een pagina die een zicht biedt op alle effecten aanwezig in het spel.
\subparagraph{Filters} Om het overzicht te behouden voorziet dat overzicht in verschillende filters:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{per beurs}
	\item{per type (aandeel, tracker, ...)}
	\item{per index}
	\item{per naam}
	\item{aandelen die als favoriet zijn gekenmerkt door de gebruiker}
	\item{per prijs}
	\item{per volume}
\end{itemize}
\subparagraph{Details per effect}Per aandeel kan vervolgens doorgeklikt worden naar een overzichtspagina, die de volgende informatie biedt:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{grafiek met koers}
	\item{hoog/laag van de dag}
	\item{huidige koers}
	\item{openingskoers}
	\item{verschil}
	\item{omzet}
	\item{mogelijkheid om te kopen/te verkopen}
\end{itemize}

\paragraph{Transactiegeschiedenis}De gebruiker kan ook een overzicht bovenhalen waarop zijn transactiegeschiedenis zichtbaar is. 
\subparagraph{Details per transactie}Ook hier kan men steeds doorklikken naar een detailpagina in kwestie:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{het tijdstip}
	\item{het effect}
	\item{het type transactie}
	\item{het aantal}
	\item{de kostprijs voor de transactie}
	\item{de winst/verlies door transactie}
	\item{totaal van uw portefeuille}
\end{itemize}
\subparagraph{Filters}Het overzicht kan worden behouden met behulp van volgende filters:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{enkel aankopen/verkopen}
	\item{enkel met winst/verlies}
\end{itemize}

\paragraph{Klassementen}Er zijn ook verschillende klassementen aanwezig:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{meest aangekochte aandelen}
	\item{meest verkochte aandelen}
	\item{spelers top 20 (waarde portefolio)}
	\item{spelers top 20 (puntentotaal)}
\end{itemize}

\paragraph{Verhandelpagina effecten}De interface voorziet ook in een pagina om aandelen te kopen of verkopen. Hiervoor zijn verschillende mogelijkheden:
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
	\item{de prijs die je biedt voor het aandeel. Pas als het aandeel die koers bereikt wordt het aandeel effectief aangekocht}
	\item{de hoeveelheid aandelen die je wenst aan te kopen}
	\item{de max. geldigheidsduur van dit order (1 uur/dag/week/maand)}
\end{itemize}
Tijdens de aankoop krijgt de gebruiker een overzicht van de totale kostprijs en de verschillende taksen die erop staan.

\section{Desktopapplicatie}
Deze applicatie voorziet in het beheer van het hele systeem. De beheerder logt daarvoor in met behulp van zijn eID.

De desktopapplicatie is opgesplitst in drie grote componenten.
\paragraph{Gebruikersbeheer}Enerzijds is er het overzicht van de gebruikers. Per gebruiker zijn de volgende beheersopdrachten mogelijk: 
\begin{itemize}
	\item{wijzigen van een gebruiker}
	\item{verwijderen van een gebruiker}
	\item{aanpassen van portefolio: kopen/verkopen van effecten}
	\item{de hoeveelheid cash van de gebruiker aanpassen}
\end{itemize}

\paragraph{Effectenbeheer}Er is ook een overzicht van de effecten voorzien, die de volgende functionaliteit biedt:
\begin{itemize}
	\item{aanduiden van welke effecten moeten gescraped worden, welke effecten zichtbaar zijn bij de spelers}
	\item{schorsen van handel in een effect}
	\item{wijzigen van de gescrapede gegevens}
	\item{overzicht van de aanwezigheid in portefeuilles bij spelers}
\end{itemize}

\paragraph{Systeemstatus}Het laatste grote deel van de applicatie biedt een overzicht van de systeemstatus. Daarbij kan de beheerder het volgende ondernemen:
\begin{itemize}
\item{status van de componenten (scraper, database, website, ...) en starten/stoppen/herstarten van degene die dit aankunnen.}
\item{statistieken bekijken}
	\begin{itemize}
	\item{aantal ingeschreven gebruikers sinds de start}
	\item{aantal gebruikers online}
	\item{aantal connecties per tijdseenheid op de backend}
	\item{aantal transacties per tijdseenheid}
	\item{aantal (succesvol/gefaalde/...) gescrapede aandelen per tijdseenheid}
	\end{itemize}
\end{itemize}

\section{Backend}

De backend fungeert als een schil rond de database. Alle aanvragen van de desktopapplicatie en de website die informatie uit de database nodig hebben, of er naartoe willen schrijven worden afgeleid naar de backend. De communicatie tussen backend en zijn clients gebeurt mbv XML-RPC. 

\section{Scrapers}

De scrapers gaan periodiek enkele vooraf bepaalde sites ophalen en halen hieruit de huidige koersinformatie. Hiervoor wordt oa. handig gebruik gemaakt van de AJAX-requests die deze websites gebruiken om de koersen live te tonen. Dit zorgt ervoor dat bijna enkel de koersen worden opgehaald, zonder overhead (zoals de layout van de website, etc) 
De opgehaalde informatie wordt vervolgens doorgestuurd naar de backend dewelke deze koersinformatie vervolgens opslaat in de database. 
Optioneel: mobiele client voor PDA/Smartphone 
Spelers kunnen met behulp van hun PDA/Smartphone een gereduceerde set acties uitvoeren op hun portefolio.


%
% Technisch
%

\chapter{Technisch ontwerp}

\section{Hergebruik}

\todo{Beschrijving van het wat en waarom van libraries}

\section{Hardware}

\todo{Een vermelding van de PDA-interface}