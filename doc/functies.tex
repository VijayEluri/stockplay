% Verkleinde margin entry
\setlength{\marginparwidth}{1.2in}
\let\oldmarginpar\marginpar
\renewcommand\marginpar[1] {\-\oldmarginpar[\raggedleft\footnotesize #1]%
{\raggedright\footnotesize #1}}

% Een TODO-entry
\newcommand{\todo}[1] {
	\addcontentsline{tdo}{todo}{\protect{#1}}
	\marginpar{#1}
}

% Een lijst van TODO-entries
\makeatletter
\newcommand \listoftodos {
	\section*{Todo list} \@starttoc{tdo}
}
\newcommand\l@todo[2] {
	\par\noindent \textit{#2}, \parbox{10cm}{#1}\par
} \makeatother

% Float definiÃ«ren voor codefragmenten
\usepackage{float}
\floatstyle{ruled}
\newfloat{code}{thp}{lop}
\floatname{code}{Codefragment}

% Hyperlink maken en URL in footnote tonen
\usepackage{hyperref}
\newcommand{\makeurl}[2]{\href{#2}{#1} \footnote{#2}}

% Functiedefinitie voor protocolstudie
\newcommand{\function}[5] {
	\subsubsection{#1}
	\begin{tabular}{|r p{10cm}|}
	\hline
	\textsc{Gebruik} |		& #2 \\
	\textsc{Parameters} |		& #3 \\
	\textsc{Output} |		& #4 \\
	\textsc{Autorisatie} |		& #5 \\
	\hline
	\end{tabular}
}

% Functiedefinities voor logboek handling
\usepackage{ifthen}
\newcommand{\lbdate}{}
\newcommand{\lbsetdate}[1]{
  \gdef\lbdate{#1}
}
\newcommand{\lbstart}[1] {
	\section{#1}
	\lbsetdate{}
}
\newcommand{\lbentry}[5] {
	\ifthenelse{\equal{\lbdate}{#1}}
	{
	}
	{
		\ifthenelse{\equal{\lbdate}{}}{}{
			& & & \\ \hline % TODO: workaround, zou niet nodig moeten zijn
			\end{tabular}
		}
		\subsection{#1}
		\begin{tabular}{|r r r p{8cm}|}
		\hline
		\textsc{Begin} & \textsc{Einde} & \textsc{Duur} & \textsc{Beschrijving} \\
		\hline
	}
	\lbsetdate{#1}
	#2 & #3 & #4 & #5 \\
	%DATA & DATA2 & DATA3 & DATA4 \\
}
\newcommand{\lbstop}[1] {
	& & & \\ \hline % TODO: consistentie fix, zie hierboven
	\end{tabular}
	% totaal aantal uren
}
